import{E as f,s as y,F as m,G as q,H as w}from"./index-060057ec.js";const o=[];function z(n,i){return{subscribe:A(n,i).subscribe}}function A(n,i=f){let c;const e=new Set;function a(t){if(y(n,t)&&(n=t,c)){const r=!o.length;for(const s of e)s[1](),o.push(s,n);if(r){for(let s=0;s<o.length;s+=2)o[s][0](o[s+1]);o.length=0}}}function b(t){a(t(n))}function l(t,r=f){const s=[t,r];return e.add(s),e.size===1&&(c=i(a)||f),t(n),()=>{e.delete(s),e.size===0&&(c(),c=null)}}return{set:a,update:b,subscribe:l}}function F(n,i,c){const e=!Array.isArray(n),a=e?[n]:n,b=i.length<2;return z(c,l=>{let t=!1;const r=[];let s=0,d=f;const g=()=>{if(s)return;d();const u=i(e?r[0]:r,l);b?l(u):d=w(u)?u:f},_=a.map((u,p)=>m(u,h=>{r[p]=h,s&=~(1<<p),t&&g()},()=>{s|=1<<p}));return t=!0,g(),function(){q(_),d()}})}let x;function G(n){x=n.client}export{x as c,F as d,G as i,z as r,A as w};
